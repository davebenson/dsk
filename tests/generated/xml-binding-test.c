/* tests/generated/xml-binding-test.c -- generated by dsk-make-xml-binding */
/* DO NOT HAND EDIT - changes will be lost */


#include "xml-binding-test.h"


/* === Anonymous Structures Inside Unions === */

/* My__Test__C.foo */
struct _My__Test__C__foo
{
  unsigned n_z;
  int *z;
  unsigned n_zz;
  char* *zz;
};
typedef struct _My__Test__C__foo My__Test__C__foo;

struct My__Test__C__foo__AlignmentTest {
  char a;
  My__Test__C__foo b;
};
static const DskXmlBindingStructMember my__test__c__foo__members[] =
{
  {
    DSK_XML_BINDING_REPEATED,
    "z",
    dsk_xml_binding__int__type,
    offsetof (My__Test__C__foo, n_z),
    offsetof (My__Test__C__foo, z)
  },
  {
    DSK_XML_BINDING_REPEATED,
    "zz",
    dsk_xml_binding__string__type,
    offsetof (My__Test__C__foo, n_zz),
    offsetof (My__Test__C__foo, zz)
  },
};
static const unsigned my__test__c__foo__members_sorted_by_name[] =
{
  0,   /* members[0] = z */
  1,   /* members[1] = zz */
};
static const DskXmlBindingTypeStruct my__test__c__foo__descriptor =
{
  {
    DSK_FALSE,    /* !is_fundamental */
    DSK_TRUE,     /* is_static */
    DSK_TRUE,    /* is_struct */
    DSK_FALSE,     /* is_union */
    0,            /* ref_count */
    sizeof (My__Test__C__foo),
    offsetof (struct My__Test__C__foo__AlignmentTest, b),
    NULL,
    NULL,
    NULL,    /* ctypename==typename */
    dsk_xml_binding_struct_parse,
    dsk_xml_binding_struct_to_xml,
    dsk_xml_binding_struct_clear,
    NULL           /* finalize_type */
  },
  2,
  (DskXmlBindingStructMember *) my__test__c__foo__members,
  (unsigned *) my__test__c__foo__members_sorted_by_name
};
#define my__test__c__foo__type ((DskXmlBindingType*)&(my__test__c__foo__descriptor))


/* Structures and Unions */
static const DskXmlBindingStructMember my__test__a__members[] =
{
  {
    DSK_XML_BINDING_REQUIRED,
    "a",
    dsk_xml_binding__int__type,
    0,
    offsetof (My__Test__A, a)
  },
  {
    DSK_XML_BINDING_OPTIONAL,
    "b",
    dsk_xml_binding__int__type,
    offsetof (My__Test__A, has_b),
    offsetof (My__Test__A, b)
  },
  {
    DSK_XML_BINDING_REPEATED,
    "c",
    dsk_xml_binding__int__type,
    offsetof (My__Test__A, n_c),
    offsetof (My__Test__A, c)
  },
  {
    DSK_XML_BINDING_REQUIRED_REPEATED,
    "d",
    dsk_xml_binding__int__type,
    offsetof (My__Test__A, n_d),
    offsetof (My__Test__A, d)
  },
};
static const DskXmlBindingUnionCase my__test__b__cases[] =
{
  {
    "foo",
    DSK_FALSE,
    dsk_xml_binding__int__type
  },
  {
    "bar",
    DSK_FALSE,
    dsk_xml_binding__string__type
  },
};
static const DskXmlBindingUnionCase my__test__c__cases[] =
{
  {
    "foo",
    DSK_TRUE,
    my__test__c__foo__type
  },
};


/* Descriptors */
struct My__Test__A__AlignmentTest {
  char a;
  My__Test__A b;
};
const unsigned my__test__a__members_sorted_by_name[] =
{
  0, /* members[0] = "a" */
  1, /* members[1] = "b" */
  2, /* members[2] = "c" */
  3, /* members[3] = "d" */
};
const DskXmlBindingTypeStruct my__test__a__descriptor =
{
  {
    DSK_FALSE,    /* !is_fundamental */
    DSK_TRUE,     /* is_static */
    DSK_TRUE,    /* is_struct */
    DSK_FALSE,     /* is_union */
    0,            /* ref_count */
    sizeof (My__Test__A),
    offsetof (struct My__Test__A__AlignmentTest, b),
    my__test__namespace,
    "A",
    NULL,    /* ctypename==typename */
    dsk_xml_binding_struct_parse,
    dsk_xml_binding_struct_to_xml,
    dsk_xml_binding_struct_clear,
    NULL           /* finalize_type */
  },
  4,
  (DskXmlBindingStructMember *) my__test__a__members,
  (unsigned *) my__test__a__members_sorted_by_name
};
struct My__Test__B__AlignmentTest {
  char a;
  My__Test__B b;
};
const unsigned my__test__b__cases_sorted_by_name[] =
{
  1, /* members[1] = "bar" */
  0, /* members[0] = "foo" */
};
const DskXmlBindingTypeUnion my__test__b__descriptor =
{
  {
    DSK_FALSE,    /* !is_fundamental */
    DSK_TRUE,     /* is_static */
    DSK_FALSE,    /* is_struct */
    DSK_TRUE,     /* is_union */
    0,            /* ref_count */
    sizeof (My__Test__B),
    offsetof (struct My__Test__B__AlignmentTest, b),
    my__test__namespace,
    "B",
    NULL,    /* ctypename==typename */
    dsk_xml_binding_union_parse,
    dsk_xml_binding_union_to_xml,
    dsk_xml_binding_union_clear,
    NULL           /* finalize_type */
  },
  offsetof (My__Test__B, variant),
  2,
  (DskXmlBindingUnionCase *) my__test__b__cases,
  (unsigned *) my__test__b__cases_sorted_by_name
};
struct My__Test__C__AlignmentTest {
  char a;
  My__Test__C b;
};
const unsigned my__test__c__cases_sorted_by_name[] =
{
  0, /* members[0] = "foo" */
};
const DskXmlBindingTypeUnion my__test__c__descriptor =
{
  {
    DSK_FALSE,    /* !is_fundamental */
    DSK_TRUE,     /* is_static */
    DSK_FALSE,    /* is_struct */
    DSK_TRUE,     /* is_union */
    0,            /* ref_count */
    sizeof (My__Test__C),
    offsetof (struct My__Test__C__AlignmentTest, b),
    my__test__namespace,
    "C",
    NULL,    /* ctypename==typename */
    dsk_xml_binding_union_parse,
    dsk_xml_binding_union_to_xml,
    dsk_xml_binding_union_clear,
    NULL           /* finalize_type */
  },
  offsetof (My__Test__C, variant),
  1,
  (DskXmlBindingUnionCase *) my__test__c__cases,
  (unsigned *) my__test__c__cases_sorted_by_name
};


/* The Namespace */
static const DskXmlBindingType *my__test__type_array[] =
{
  my__test__a__type,
  my__test__b__type,
  my__test__c__type,
};

const DskXmlBindingNamespace my__test__descriptor =
{
  DSK_TRUE,              /* is_static */
  "my.test",
  3,               /* n_types */
  (DskXmlBindingType **) my__test__type_array,
  0,                     /* ref_count */
  NULL
};
DskXml    * my__test__a__to_xml
                      (const My__Test__A *source,
                       DskError **error)
{
  return dsk_xml_binding_struct_to_xml (my__test__a__type, source, error);
}
dsk_boolean my__test__a__parse
                      (DskXml *source,
                       My__Test__A *dest,
                       DskError **error)
{
  return dsk_xml_binding_struct_parse (my__test__a__type, source, dest, error);
}
void        my__test__a__clear (My__Test__A *to_clear)
{
  dsk_xml_binding_struct_clear (my__test__a__type, to_clear);
}
DskXml    * my__test__b__to_xml
                      (const My__Test__B *source,
                       DskError **error)
{
  return dsk_xml_binding_union_to_xml (my__test__b__type, source, error);
}
dsk_boolean my__test__b__parse
                      (DskXml *source,
                       My__Test__B *dest,
                       DskError **error)
{
  return dsk_xml_binding_union_parse (my__test__b__type, source, dest, error);
}
void        my__test__b__clear (My__Test__B *to_clear)
{
  dsk_xml_binding_union_clear (my__test__b__type, to_clear);
}
DskXml    * my__test__c__to_xml
                      (const My__Test__C *source,
                       DskError **error)
{
  return dsk_xml_binding_union_to_xml (my__test__c__type, source, error);
}
dsk_boolean my__test__c__parse
                      (DskXml *source,
                       My__Test__C *dest,
                       DskError **error)
{
  return dsk_xml_binding_union_parse (my__test__c__type, source, dest, error);
}
void        my__test__c__clear (My__Test__C *to_clear)
{
  dsk_xml_binding_union_clear (my__test__c__type, to_clear);
}
